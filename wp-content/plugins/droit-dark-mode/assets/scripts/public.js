"use strict";!function(t){let e=document.querySelector("html");var d={init:function(){d.drdtSwitchButton(),d.drdtBackgroundDisable(),d.hardCodeExl(),d.drdtHandleExcludes(),d.drdtHandleIncludes(),window.addEventListener("DroitDarkModeInit",d.checkDarkMode),d.drdtImageReplace()},drdtBackgroundDisable:function(){document.querySelectorAll("header, footer, div, section").forEach(function(t){if(t){var e=window.getComputedStyle(t,!1).backgroundImage,d=t.getAttribute("data-jarallax-original-styles");("none"!==e||d)&&(t.classList.add("drdt-ignore-dark"),t.querySelectorAll("*").forEach(function(t){return t.classList.add("drdt-ignore-dark")}))}})},drdtSwitchButton:function(){let t=document.querySelectorAll(".dark_switch_box");if(t)for(let o=0;o<t.length;o++){let c=t[o];c&&("yes"==dtdr_settings.mode&&"yes"==dtdr_settings.default&&c.classList.toggle("active"),c.addEventListener("click",function(t){e.classList.toggle("drdt-dark-mode"),e.classList.toggle(dtdr_settings.colorset),this.classList.toggle("active"),r("drdt_dark_public","yes"==n("drdt_dark_public")?"no":"yes",365),d.drdtImageReplace()}))}},DrdtcheckOsMode:function(){if("yes"==dtdr_settings.mode){var t=window.matchMedia("(prefers-color-scheme: dark)");try{t.addEventListener("change",function(t){"dark"==(t.matches?"dark":"light")?document.querySelector("html").classList.add("drdt-dark-mode"):document.querySelector("html").classList.remove("drdt-dark-mode"),window.dispatchEvent(new Event("DroitDarkModeInit"))})}catch(e){try{t.addListener(function(t){"dark"==(t.matches?"dark":"light")?document.querySelector("html").classList.add("drdt-dark-mode"):document.querySelector("html").classList.remove("drdt-dark-mode"),window.dispatchEvent(new Event("DroitDarkModeInit"))})}catch(t){console.error(t)}}window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.querySelector("html").classList.add("drdt-dark-mode"),window.dispatchEvent(new Event("DroitDarkModeInit")))}},checkDarkMode:function(){e.classList.toggle("drdt-dark-mode"),e.classList.toggle(dtdr_settings.colorset),this.classList.toggle("active"),r("drdt_dark_public","yes"==n("drdt_dark_public")?"no":"yes",365),d.drdtImageReplace()},drdtHandleExcludes:function(){""!=dtdr_settings.excludes&&document.querySelectorAll(dtdr_settings.excludes).forEach(function(t){t&&(t.classList.add("drdt-ignore-dark"),t.querySelectorAll("*").forEach(function(t){t.classList.add("drdt-ignore-dark")}))})},drdtHandleIncludes:function(){""!=dtdr_settings.includes&&document.querySelectorAll(dtdr_settings.includes).forEach(function(t){t&&(t.classList.remove("drdt-ignore-dark"),t.querySelectorAll("*").forEach(function(t){t.classList.remove("drdt-ignore-dark")}))})},drdtImageReplace:function(){var t=JSON.parse(dtdr_settings.replace),e=n("drdt_dark_public");t.length>0&&t.forEach(function(t){var d=t.normal?t.normal:"",r=t.dark?t.dark:"";if("yes"==e)var n=d,o=r;else n=r,o=d;if(""!==o){var c=document.querySelectorAll('img[src="'+n+'"]');c&&c.forEach(function(t){t.setAttribute("src",o),t.setAttribute("srcset",o)})}})},hardCodeExl:function(){var t=document.querySelectorAll(".drdt-ignore-dark");t&&t.forEach(function(t){t&&t.querySelectorAll(":not(.drdt-ignore-dark)").forEach(function(t){t.classList.add("drdt-ignore-dark")})})}};function r(t,e,d){var r=new Date;r.setTime(r.getTime()+24*d*60*60*1e3);var n="expires="+r.toUTCString();document.cookie=t+"="+e+";"+n+";path=/"}function n(t){for(var e=t+"=",d=document.cookie.split(";"),r=0;r<d.length;r++){for(var n=d[r];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""}e&&"yes"==dtdr_settings.mode&&"yes"==dtdr_settings.default&&(e.classList.add("drdt-dark-mode"),e.classList.add(dtdr_settings.colorset),r("drdt_dark_public","yes",365),d.drdtImageReplace()),document.addEventListener("DOMContentLoaded",d.init)}(jQuery);